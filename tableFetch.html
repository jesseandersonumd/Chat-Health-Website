<!DOCTYPE html> 
<html>
<head>
    <title>Chat Health</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styleWebsite">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<script>
function populate() {
    console.log("populate")
    var xhttp = new XMLHttpRequest();
    xhttp.onload = function(e) {
        resp = xhttp.response
        jsn = JSON.parse(resp)
        
        var table = document.getElementById("qTable");
        for (i=0;i<jsn.length;i++){
            var row = table.insertRow(i+1);
            var cell1 = row.insertCell(0);
            var c2 = row.insertCell(1);

            // Add some text to the new cells:
            cell1.innerHTML = jsn[i]['question'];
            c2.innerHTML = jsn[i]['timestamp'];
        }
    }
    xhttp.open("GET", "http://34.231.192.182/questions");
    xhttp.send();
}
</script>

<!--This is where the script is for opening and closing the div upon clicking the link-->

<script>
    function tableFetch() {
        let question = document.getElementById("div_text");

        if(question.style.display == "block") {
            question.style.display = "none";

        }
        else {
            question.style.display = "block";

        }
    }
</script>

    <body onload=populate()>
        <nav class="navbar navbar-expand-lg navbar-light bg-light nav_style" >
          <a class="navbar-brand logo" href="home.html">Chat Health</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon" style="width:1.5vw;height:1.5vw"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
              <li class="nav-item active">
                  <a class="nav-link nav-headers" href="http://chathealth.herokuapp.com/about.html">About us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link nav-headers" href="http://chathealth.herokuapp.com/basicinfo.html">Basic Information</a>
              </li>
              <li class="nav-item">
                <a class="nav-link nav-headers" href="http://chathealth.herokuapp.com/usethebots.html">How to use our bots</a>
              </li>
              <li class="nav-item">
                <a class="nav-link nav-headers" href="https://princegeorges.maps.arcgis.com/apps/MapSeries/index.html?appid=82fa5c47b1f542849ca6162ab1564453">Monitoring Prince George's County</a>
              </li>
              <li class="nav-item">
                <a class="nav-link nav-headers" href="mailto:chathealth1@gmail.com">Contact us</a>
              </li>
            </ul>
            <a href="http://chathealth.herokuapp.com/usethebots.html" class="button" style="font-size:1.2vw">Use our bots</a>
          </div>
        </nav>
        <div class="jumbotron gen_style">
            <div class="intro">
                <h2 class="header_1" style="margin-bottom:10px">Question bank</h2>
                <p class="text_small">This question bank documents the most recent entries we've received. </p>
                <hr>
            </div>

            <table style="width:100%" id="qTable">
                <tr>
                    <th class="text_small" style="font-weight:bold">Question</th>
                    <th class='text_small' style="font-weight:bold">Timestamp</th>
                </tr>
            </table>

            <!--This is where the button and the textarea are!-->
            <a id="question_text" href="javascript:tableFetch();" class="text_small">This is a question</a>
            <div id="div_text" style="display:none">
                <textarea class="text_small textarea">Please type your answer here...</textarea>
                <textarea class="text_small textarea">Please enter the source of your information here...</textarea>
                <textarea class="text_small textarea" style="margin-bottom:20px">Please enter your volunteer ID here...</textarea>
                <button class="home_button button text_small">Submit this answer!</button>
            </div>

        </div>
        <nav class="navbar navbar-expand-lg navbar-light bg-light nav_style" style="margin-bottom:30px;margin-top:70px">
          <a class="navbar-brand footer_style" href="http://chathealth.herokuapp.com/home.html" class="bottom_link" >Chat Health</a>
          <a class="navbar-brand footer_style" href="http://chathealth.herokuapp.com/theteam.html" class="bottom_link" style="color:#838383">Meet our team</a>
          <a class="navbar-brand footer_style" href="http://chathealth.herokuapp.com/resources.html" class="bottom_link" style="color:#9c9c9c">Additional resources</a>
          <a class="navbar-brand footer_style" href="http://34.231.192.182/volunteer" class="bottom_link" style="color:#3477db">Volunteer Login</a>
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li>
                </li>
            </ul>
            <a href="http://chathealth.herokuapp.com/usethebots.html" class="button" style="font-size:1.2vw">Use our bots</a>
        </nav>
    </body>
</html>
